<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>3D Solar System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="index.css" />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü™ê</text></svg>">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Titillium+Web:wght@300;400;600;700&display=swap" rel="stylesheet">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZJZCRLTY3L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZJZCRLTY3L');
</script>
  
</head>
<body>
  <!-- Show UI Button (hidden by default) -->
  <button id="showUIBtn">Show UI</button>

  <div class="controls collapsed" id="uiControls">
    <div class="control-header" onclick="toggleControlPanel()">
      <h3>Mission Control <span class="control-toggle-icon">‚ñ≤</span></h3>
    </div>
    <div class="control-content">
      <div class="control-group">
        <label>Speed (Earth Time)</label>
        <input type="range" id="speedControl" min="0" max="10" step="0.1" value="0.4">
        <span id="speedValue" class="value-display">0.4x Slow</span>
      </div>
      
      <div class="control-group">
        <label>Bloom</label>
        <input type="range" id="bloomControl" min="0" max="2" step="0.1" value="0.5">
        <span id="bloomValue" class="value-display">0.5</span>
      </div>
      
      <div class="control-group">
        <button id="pauseBtn">Pause</button>
        <button id="resetBtn">Reset</button>
        <button id="hideUIBtn">Hide UI</button>
      </div>

      <div class="control-group">
        <label>Camera Control</label>
        <button id="stopFollowBtn" style="display: none;" class="active">üõë Stop Follow</button>
      </div>
      
      
      <div class="control-group">
        <label>Toggle</label>
        <button id="orbitsBtn" class="active">Orbits</button>
        <button id="moonsBtn" class="active">Moons</button>
      </div>
      
    </div>
  </div>

  
  <div class="celestial-panel collapsed" id="celestialPanel">
    <div class="celestial-header" onclick="toggleCelestialPanel()">
      <h4>Celestial Bodies <span class="toggle-icon"></span></h4>
    </div>
    <div class="celestial-content">
      <div class="celestial-controls">
        <button id="labelToggle" class="label-toggle">Show Planet Names</button>
        <button id="moonLabelToggle" class="label-toggle">Show Moon Names</button>
      </div>
      <div id="planetList"></div>
    </div>
  </div>
  
  <!-- Planet Information Card -->
  <div id="planetInfoCard" class="planet-info-card">
    <div class="planet-info-header">
      <h2 class="planet-info-title">
        <span id="planetIcon">ü™ê</span>
        <span id="planetName">SATURN</span>
        <span id="planetTypeBadge" class="planet-type-badge">PLANET</span>
      </h2>
      <button class="close-btn" id="closePlanetInfo">√ó</button>
    </div>
    <div class="planet-info-content">
      <div class="info-section">
        <div class="info-grid">
          <div class="info-item">
            <div class="info-item-label">Orbital Period</div>
            <div class="info-item-value" id="orbitalPeriod">29 years</div>
          </div>
          <div class="info-item">
            <div class="info-item-label">Size (Relative to Earth)</div>
            <div class="info-item-value" id="sizeRelative">1.7x Earth</div>
          </div>
          <div class="info-item">
            <div class="info-item-label">Distance from Sun</div>
            <div class="info-item-value" id="distanceFromSun">31 AU</div>
          </div>
          <div class="info-item">
            <div class="info-item-label">Discovery Year</div>
            <div class="info-item-value" id="discoveryYear">Ancient</div>
          </div>
        </div>
      </div>

      <div class="info-section">
        <div class="planet-description" id="planetDescription">
          Famous for its prominent ring system. Less dense than water. Has 146 known moons.
        </div>
      </div>

      <div class="info-section" id="moonsSection">
        <h4>üåô Moons (<span id="moonCount">9</span>)</h4>
        <div class="moons-section" id="moonsContainer">
          <!-- Moon items will be populated dynamically -->
        </div>
      </div>

      <div class="info-section">
        <h4>üéÆ Controls</h4>
        <div class="controls-info">
          <div class="control-item">
            <div class="control-icon">üñ±Ô∏è</div>
            <div class="control-text">
              <strong>Mouse:</strong> Orbit around object
            </div>
          </div>
          <div class="control-item">
            <div class="control-icon">üîÑ</div>
            <div class="control-text">
              <strong>Scroll:</strong> Zoom in/out
            </div>
          </div>
          <div class="control-item">
            <div class="control-icon">‚å®Ô∏è</div>
            <div class="control-text">
              <strong>R key or Reset:</strong> Stop following
            </div>
          </div>
          <div class="control-item">
            <div class="control-icon">üí´</div>
            <div class="control-text">
              <strong>O key:</strong> Toggle glowing orbits
            </div>
          </div>
        </div>
      </div>

      <div class="info-section">
        <button id="followPlanetBtn" class="follow-planet-btn">
          üéØ FOLLOW PLANET
        </button>
      </div>
    </div>
  </div>

  <!-- Eclipse Tour Info Panel (bottom, stretched) -->
  <div id="eclipseTourInfo" class="eclipse-tour-info" style="display: none;">
    <div class="eclipse-info-content">
      <div style="display:flex; gap:18px; align-items:flex-start;">
        <div style="flex:0 0 72px; font-size:40px; line-height:1;">üåí</div>
        <div style="flex:1 1 auto;">
          <h3 style="margin:0 0 6px 0; font-size:20px;">Solar Eclipse: Cinematic Tour</h3>
          <div id="eclipsePhaseTitle" class="eclipse-phase-title">Phase 1: Getting Ready</div>
          <div id="eclipsePhaseDesc" class="eclipse-phase-desc" style="margin-top:6px;">We will slowly move in so you can clearly see how the Sun, Moon and Earth line up ‚Äî this helps you understand why eclipses happen. The tour is slow on purpose so you can enjoy every moment.</div>
        </div>
        <div style="flex:0 0 220px; display:flex; flex-direction:column; gap:8px; align-items:flex-end;">
          <div class="eclipse-progress-bar" style="width:200px;">
            <div id="eclipseProgress" class="eclipse-progress-fill"></div>
          </div>
          <div style="font-size:11px; color:rgba(255,255,255,0.75);">Sit back ‚Äî the whole tour may take a minute or two. Be patient; it's designed to teach and look beautiful.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="nasa-footer">
    <div class="footer-content">
  Made By üíô <a href="https://github.com/PrabalKumar2311" target="_blank" rel="noopener noreferrer">PRABAL KUMAR</a>
    </div>
  </footer>
  
  <!--Audio element for space music -->
  <audio id="spaceMusic" loop preload="none">
    <!-- Your custom Interstellar soundtrack -->
     <!-- typo -->
    <source src="/textures/interstelar.mp3" type="audio/mpeg">
    <!-- Fallback sources for compatibility -->
    <source src="https://www.soundjay.com/misc/sounds-790.mp3" type="audio/mpeg">
    <source src="https://freesound.org/data/previews/316/316847_5195967-lq.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <script type="module" src="./main.js"></script>
  
  <script>
    function toggleCelestialPanel() {
      const panel = document.getElementById('celestialPanel');
      const icon = panel.querySelector('.toggle-icon');
      
      panel.classList.toggle('collapsed');
      
      // Update icon based on state
      if (panel.classList.contains('collapsed')) {
        icon.textContent = '‚ñ≤';
      } else {
        icon.textContent = '‚ñº';
      }
    }

    function toggleControlPanel() {
      const panel = document.getElementById('uiControls');
      const icon = panel.querySelector('.control-toggle-icon');
      
      panel.classList.toggle('collapsed');
      
      // Update icon based on state
      if (panel.classList.contains('collapsed')) {
        icon.textContent = '‚ñº';
      } else {
        icon.textContent = '‚ñº';
      }
    }

    
    
    function toggleCelestialPanel() {
      const panel = document.getElementById('celestialPanel');
      const icon = panel.querySelector('.toggle-icon');
      
      panel.classList.toggle('collapsed');
      
      // Update icon based on state
      if (panel.classList.contains('collapsed')) {
        icon.textContent = '‚ñº';
      } else {
        icon.textContent = '‚ñº';
      }
      
      // Update Special Events panel position after celestial panel changes
      setTimeout(updateSpecialEventsPanelPosition, 300); // Wait for animation
    }
    
    // Update position on page load and resize
    window.addEventListener('load', updateSpecialEventsPanelPosition);
    window.addEventListener('resize', updateSpecialEventsPanelPosition);
    

  </script>
</body>
</html>
